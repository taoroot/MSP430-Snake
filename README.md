# MSP430-Snake
用单片机制作贪吃蛇小游戏,再8*8LED矩阵中显示

## 材料

1. 8*8LED矩阵7219(一个)
2. MSP43g2553(一块)
3. 按钮(四个)

## 电路连接
   LED 
   P2.3 -- DIN
   P2.4 -- CS
   P2.5 -- CLK
   按钮
   P1.5 -- 上
   P1.3 -- 下
   P1.2 -- 左
   P1.4 -- 右

## 数据结构

    1. unsigned char Map[8];

    /* 	0 1 2 3 4 5 6 7
     * 	- - - - - - - -
     * 	0 0 0 0 0 0 0 0 |0
     * 	0 0 0 0 0 0 0 0 |1
     * 	0 0 0 0 0 0 0 0 |2
     * 	0 0 0 0 0 0 0 0 |3
     * 	0 0 0 0 0 0 0 0 |4
     * 	0 0 0 0 0 0 0 0 |5
     * 	0 0 0 0 0 0 0 0 |6
     * 	0 0 0 0 0 0 0 0 |7
     */
     // MSP43g2553 的unsigned char类型为8位
     // Map[8]数组中对应的每一位代表一个LED灯


    2. unsigned char Food[8];

    /* 	0 1 2 3 4 5 6 7
     * 	- - - - - - - -
     * 	0 0 0 0 0 0 0 0 |0
     * 	0 0 0 0 0 0 0 0 |1
     * 	0 0 0 0 0 0 0 0 |2
     * 	0 0 0 0 0 0 0 0 |3
     * 	0 0 0 0 0 0 0 0 |4
     * 	0 0 0 0 0 0 0 0 |5
     * 	0 0 0 0 0 0 0 0 |6
     * 	0 0 0 0 0 0 0 0 |7
     */
     // 将Food[8]数组中的其中一位随机至为1
     // 在至为之前要先判断下该位是否是蛇身部分


    3  unsigned long Snake[20] = {0}; 

    /*     x		  y     direction
     *  12345678  12345678  12345678  12345678
     *  --------  --------  --------  --------
     *  00000000  00000000  00000000  00000000
     *  00000000  00000000  00000000  00000000
     *  00000000  00000000  00000000  00000000
     *  .....
     *
     *	  direction
     *	  0001 0000  		right
     *	  0010 0000  		up
     *	  0100 0000  		down
     *	  1000 0000  		left
     */
     // MSP43g2553中long为32位
     // Snake[20]数组中的每一个元素代表蛇的一个节点,Snake[0]为蛇头
     // 32--25位表示该节点的x坐标
     // 24--17位表示该节点的y坐标
     // 本来用16-9位表示该节点的移动方向的,做到后面发现并不需要了.囧


##  运行效果

<img sruOSQc="img/msp430 snake-01.png" width = "50%" />
[视频](https://youtu.be/kEScoV-uOSQ)
